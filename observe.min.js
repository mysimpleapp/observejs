(function(){O=Observable=function(a){var b=new Proxy(a,{set:function(a,f,c){var d=a[f];a[f]=c;d!==c&&l(b,f,d,c);return c},deleteProperty:function(a,f){var c=a[f];delete a[f];void 0!==c&&l(b,f,c)}});Object.defineProperty(b,"_observers",{enumerable:!1,configurable:!0,writable:!0,value:{}});return b};Observe=function(a,b,e){if(m(a)){var f=a._observers,c=n(b);b=c[0];var d=c[1];"**"===b&&(d="**");if(d)if("**"===b?(b="*",c=new h(a,b,function(a,b,c,f){this.setSonObserver(b,Observe(f,d,e));e(a,b,c,f)})):
c=new h(a,b,function(a,b,f,c){this.setSonObserver(b,Observe(c,d,e));var g=k(f,d),h=k(c,d);g!==h&&e(a,b,f,c)}),"*"!==b)c.setSonObserver(b,Observe(a[b],d,e));else for(var g in a)c.setSonObserver(g,Observe(a[g],d,e));else c=new h(a,b,e);(a=f[b])||(a=f[b]=[]);a.push(c);return c}};var h=function(a,b,e){this.obs=a;this.attr=b;this.next=e;this.stop=function(){var a=this.obs;if(m(a)&&(a=a._observers[this.attr])){var b=a.indexOf(this);-1!==b&&a.splice(b);if(a=this.sonObservers)for(var d in a)a[d].stop()}};
this.setSonObserver=function(a,b){if(b){var d=this.sonObservers;d||(d=this.sonObservers={});var e=d[a];e&&e.stop();d[a]=b}}},l=function(a,b,e,f){var c=a._observers;p(c[b],a,b,e,f);p(c["*"],a,b,e,f)},p=function(a,b,e,f,c){if(a)for(var d=0,g=a.length;d<g;++d)a[d].next(b,e,f,c)},n=function(a){var b=a.indexOf(".");return-1===b?[a]:[a.substr(0,b),a.substr(b+1)]},k=function(a,b){if(a&&"object"===typeof a){var e=n(b);return e[1]?k(a[e[0]],e[1]):a[b]}},m=function(a){return a&&"object"===typeof a&&void 0!==
a._observers}})();